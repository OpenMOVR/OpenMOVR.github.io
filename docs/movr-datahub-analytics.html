<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOVR DataHub Analytics | Developer Documentation</title>
    <meta name="description" content="Developer documentation for MOVR DataHub Analytics - Python package for analyzing neuromuscular disease registry data.">

    <link rel="stylesheet" href="css/docs.css">
    <link rel="icon" type="image/png" href="../assets/movr_logo_clean_nobackground.png">
</head>
<body>
    <div class="docs-container">
        <nav class="docs-sidebar">
            <div class="docs-header">
                <h1><a href="index.html">OpenMOVR Docs</a></h1>
                <p>Documentation</p>
                <a href="../index.html" class="back-link">Back to OpenMOVR</a>
            </div>

            <div class="docs-nav">
                <ul>
                    <li><a href="index.html" class="nav-link">MOVR 2.0</a></li>
                    <li><a href="../pilot/" class="nav-link">MOVR 2.0 Pilot</a></li>
                    <li><a href="developer.html" class="nav-link">Developer Docs</a></li>
                    <li><a href="movr-datahub-analytics.html" class="nav-link active">DataHub Analytics</a></li>
                    <li><a href="https://mdausa.tfaforms.net/389761" class="nav-link" target="_blank">Data Request Form</a></li>
                </ul>

                <div class="docs-footer">
                    <strong>Contact</strong>
                    Technical: <a href="mailto:andre.paredes@ymail.com">andre.paredes@ymail.com</a><br>
                    MDA: <a href="mailto:MDAMOVR@mdausa.org">MDAMOVR@mdausa.org</a>
                    <div class="footer-links">
                        <a href="https://www.mda.org/science/movr" target="_blank">Official MDA MOVR</a>
                        <a href="../movr-viewer/index.html">MOVR Viewer</a>
                    </div>
                </div>
            </div>
        </nav>

        <main class="docs-content">
            <div class="content-header">
                <h1>MOVR DataHub Analytics</h1>
                <span class="badge badge-info">Python Package</span>
                <span class="badge badge-secondary">GSoC 2026</span>
            </div>

            <div class="alert alert-primary">
                <h3>MOVR Legacy DataHub Library</h3>
                <p>A Python package for analyzing clinical registry data from the MOVR DataHub (2019-2025): 3,570 participants, 11,501 encounters across ALS, DMD, SMA, BMD, LGMD, FSHD, and Pompe disease.</p>
                <p style="margin-top: var(--spacing-sm);">
                    <a href="https://github.com/OpenMOVR/movr-datahub-analytics" target="_blank">View on GitHub</a> |
                    <a href="https://github.com/OpenMOVR/movr-datahub-analytics/issues" target="_blank">Issues</a> |
                    <a href="https://github.com/OpenMOVR/movr-datahub-analytics/discussions" target="_blank">Discussions</a>
                </p>
            </div>

            <!-- Tab Navigation -->
            <div class="tabs">
                <div class="tab-nav">
                    <button class="tab-btn active" data-tab="overview">Overview</button>
                    <button class="tab-btn" data-tab="installation">Installation</button>
                    <button class="tab-btn" data-tab="cli">CLI Reference</button>
                    <button class="tab-btn" data-tab="contributing">Contributing</button>
                </div>

                <!-- Overview Tab -->
                <div id="overview" class="tab-content active">
                    <h2>Overview</h2>
                    <p><strong>MOVR DataHub Analytics</strong> transforms raw Excel registry exports into analysis-ready datasets through automated data wrangling, quality validation, and cohort management.</p>

                    <h3>Key Capabilities</h3>
                    <div class="grid-3">
                        <div class="card">
                            <h4>Data Pipeline</h4>
                            <p>Excel to Parquet conversion with audit logging</p>
                        </div>
                        <div class="card">
                            <h4>Data Wrangling</h4>
                            <p>YAML-configurable transformation rules</p>
                        </div>
                        <div class="card">
                            <h4>Cohort Management</h4>
                            <p>Flexible patient cohort building</p>
                        </div>
                        <div class="card">
                            <h4>Analytics</h4>
                            <p>Descriptive statistics and reporting</p>
                        </div>
                        <div class="card">
                            <h4>Data Dictionary</h4>
                            <p>Field search and metadata exploration</p>
                        </div>
                        <div class="card">
                            <h4>Plugin System</h4>
                            <p>Custom transformation extensions</p>
                        </div>
                    </div>

                    <h3>Project Structure</h3>
                    <div class="card">
                        <pre>movr-datahub-analytics/
├── src/movr/               # Main package
│   ├── config/             # Configuration management
│   ├── data/               # Excel/Parquet loading
│   ├── wrangling/          # Data cleaning
│   ├── cohorts/            # Cohort management
│   ├── analytics/          # Analysis framework
│   ├── dictionary/         # Data dictionary tools
│   └── cli/                # Command-line interface
├── config/                 # YAML configuration files
├── data/                   # Data storage (gitignored)
├── notebooks/              # Jupyter examples
├── tests/                  # Test suite
└── docs/                   # Documentation</pre>
                    </div>

                    <h3>Roadmap</h3>
                    <div class="grid-2">
                        <div class="card">
                            <h4>Phase 1: Core Library (2025)</h4>
                            <ul>
                                <li>Package structure</li>
                                <li>Excel to Parquet conversion</li>
                                <li>Data wrangling</li>
                                <li>Cohort management</li>
                                <li>CLI implementation</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4>Phase 2: Advanced (2026)</h4>
                            <ul>
                                <li>Config-driven cohort builder</li>
                                <li>Disease-specific analysis rules</li>
                                <li>Workflow orchestration</li>
                                <li>Visualization tools</li>
                                <li>Web interface (FastAPI)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Installation Tab -->
                <div id="installation" class="tab-content">
                    <h2>Installation</h2>

                    <div class="alert alert-info">
                        <p><strong>Note:</strong> This package is not yet on PyPI. Install locally in editable mode.</p>
                    </div>

                    <h3>Requirements</h3>
                    <ul>
                        <li>Python 3.9+</li>
                        <li>Git</li>
                        <li>Virtual environment (recommended)</li>
                    </ul>

                    <h3>Basic Installation</h3>
                    <div class="card">
                        <pre># Clone the repository
git clone https://github.com/OpenMOVR/movr-datahub-analytics.git
cd movr-datahub-analytics

# Create virtual environment
python3 -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# Install package
pip install -e .</pre>
                    </div>

                    <h3>Full Installation (recommended)</h3>
                    <div class="card">
                        <pre># Install with all optional dependencies
pip install -e ".[dev,viz,notebooks]"

# This includes:
# - dev: pytest, black, mypy, pre-commit
# - viz: matplotlib, seaborn, plotly
# - notebooks: jupyter, ipywidgets</pre>
                    </div>

                    <h3>Configuration Setup</h3>
                    <div class="card">
                        <pre># Run the setup wizard (first time)
movr setup

# This will:
# - Create config/config.yaml
# - Set up data directories
# - Configure Excel file paths
# - Initialize audit logging</pre>
                    </div>

                    <h3>Verify Installation</h3>
                    <div class="card">
                        <pre># Check CLI is working
movr --help

# Check version
movr --version

# Run tests
pytest</pre>
                    </div>
                </div>

                <!-- CLI Reference Tab -->
                <div id="cli" class="tab-content">
                    <h2>CLI Reference</h2>
                    <p>The <code>movr</code> command-line interface provides access to all package functionality.</p>

                    <h3>Setup Commands</h3>
                    <div class="card">
                        <pre># Interactive setup wizard
movr setup

# Show current configuration
movr config show

# Validate configuration
movr config validate</pre>
                    </div>

                    <h3>Data Pipeline</h3>
                    <div class="card">
                        <pre># Convert Excel files to Parquet
movr convert

# Convert specific file
movr convert --file "path/to/file.xlsx"

# Validate data quality
movr validate

# View data summary
movr summary --registry datahub --metric all
movr summary --registry datahub --metric enrollment</pre>
                    </div>

                    <h3>Data Dictionary</h3>
                    <div class="card">
                        <pre># Search for fields
movr dictionary search "age"
movr dictionary search "medication" --diseases "DMD,SMA"
movr dictionary search "ambulation" --diseases "all"

# List all fields
movr dictionary list-fields

# Show specific field details
movr dictionary show-field FACPATID

# Export dictionary
movr dictionary export --format csv</pre>
                    </div>

                    <h3>Cohort Management</h3>
                    <div class="card">
                        <pre># Create cohort from YAML config
movr cohort create --config cohort_config.yaml

# List existing cohorts
movr cohort list

# Export cohort
movr cohort export --name "my_cohort" --format parquet</pre>
                    </div>

                    <h3>Analytics</h3>
                    <div class="card">
                        <pre># Run descriptive statistics
movr analytics describe --cohort "my_cohort"

# Generate report
movr analytics report --cohort "my_cohort" --output report.html</pre>
                    </div>
                </div>

                <!-- Contributing Tab -->
                <div id="contributing" class="tab-content">
                    <h2>Contributing</h2>
                    <p>We welcome contributions from both the research and software engineering communities.</p>

                    <div class="alert alert-primary">
                        <h4>GSoC 2026 Priority Project</h4>
                        <p>This is a priority project for Google Summer of Code 2026. Students should review the <a href="https://github.com/OpenMOVR/movr-datahub-analytics/blob/main/CONTRIBUTING.md" target="_blank">Contributing Guide</a>.</p>
                    </div>

                    <h3>Development Setup</h3>
                    <div class="card">
                        <pre># Install with development dependencies
pip install -e ".[dev]"

# Install pre-commit hooks
pre-commit install

# Run all checks
pre-commit run --all-files</pre>
                    </div>

                    <h3>Code Quality</h3>
                    <div class="card">
                        <pre># Run tests
pytest

# Run tests with coverage
pytest --cov=src/movr

# Format code
black src/ tests/

# Type checking
mypy src/

# Lint
ruff check src/ tests/</pre>
                    </div>

                    <h3>Pull Request Process</h3>
                    <div class="card">
                        <ol>
                            <li>Fork the repository on GitHub</li>
                            <li>Create a feature branch: <code>git checkout -b feature/amazing-feature</code></li>
                            <li>Make changes following coding standards</li>
                            <li>Add tests for new functionality</li>
                            <li>Run tests and linters</li>
                            <li>Commit with clear messages</li>
                            <li>Push and create a Pull Request</li>
                        </ol>
                    </div>

                    <h3>Contribution Areas</h3>
                    <div class="grid-2">
                        <div class="card">
                            <h4>Code</h4>
                            <ul>
                                <li>Core library features</li>
                                <li>Bug fixes</li>
                                <li>Performance improvements</li>
                                <li>Plugin development</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4>Documentation</h4>
                            <ul>
                                <li>Tutorials and guides</li>
                                <li>API documentation</li>
                                <li>Example notebooks</li>
                                <li>Translations</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Resources</h3>
                    <ul>
                        <li><a href="https://github.com/OpenMOVR/movr-datahub-analytics/blob/main/README.md" target="_blank">README</a> - Project overview</li>
                        <li><a href="https://github.com/OpenMOVR/movr-datahub-analytics/blob/main/QUICK_START.md" target="_blank">Quick Start Guide</a></li>
                        <li><a href="https://github.com/OpenMOVR/movr-datahub-analytics/blob/main/CONTRIBUTING.md" target="_blank">Contributing Guide</a></li>
                        <li><a href="https://github.com/OpenMOVR/movr-datahub-analytics/tree/main/docs" target="_blank">Technical Docs</a></li>
                        <li><a href="https://github.com/OpenMOVR/movr-datahub-analytics/tree/main/notebooks" target="_blank">Example Notebooks</a></li>
                    </ul>
                </div>
            </div>

            <div class="alert alert-info">
                <h3>Support</h3>
                <p><strong>GitHub Issues:</strong> <a href="https://github.com/OpenMOVR/movr-datahub-analytics/issues" target="_blank">Report bugs or request features</a></p>
                <p><strong>Technical:</strong> <a href="mailto:andre.paredes@ymail.com">andre.paredes@ymail.com</a></p>
            </div>
        </main>
    </div>

    <script>
        // Tab functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                btn.classList.add('active');
                document.getElementById(btn.dataset.tab).classList.add('active');
            });
        });

        // Handle URL hash for direct linking
        if (window.location.hash) {
            const tab = window.location.hash.substring(1);
            const btn = document.querySelector(`[data-tab="${tab}"]`);
            if (btn) btn.click();
        }
    </script>
</body>
</html>
