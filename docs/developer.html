<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Documentation | OpenMOVR</title>
    <meta name="description" content="Technical documentation and contribution guidelines for OpenMOVR developers.">

    <link rel="stylesheet" href="css/docs.css">
    <link rel="icon" type="image/png" href="../assets/movr_logo_clean_nobackground.png">
</head>
<body>
    <div class="docs-container">
        <nav class="docs-sidebar">
            <div class="docs-header">
                <h1><a href="index.html">OpenMOVR Docs</a></h1>
                <p>Documentation</p>
                <a href="../index.html" class="back-link">Back to OpenMOVR</a>
            </div>

            <div class="docs-nav">
                <ul>
                    <li><a href="index.html" class="nav-link">MOVR 2.0</a></li>
                    <li><a href="../pilot/" class="nav-link">MOVR 2.0 Pilot</a></li>
                    <li><a href="developer.html" class="nav-link active">Developer Docs</a></li>
                    <li><a href="movr-datahub-analytics.html" class="nav-link">DataHub Analytics</a></li>
                    <li><a href="https://mdausa.tfaforms.net/389761" class="nav-link" target="_blank">Data Request Form</a></li>
                </ul>

                <div class="docs-footer">
                    <strong>Contact</strong>
                    Technical: <a href="mailto:andre.paredes@ymail.com">andre.paredes@ymail.com</a><br>
                    MDA: <a href="mailto:MDAMOVR@mdausa.org">MDAMOVR@mdausa.org</a>
                    <div class="footer-links">
                        <a href="https://www.mda.org/science/movr" target="_blank">Official MDA MOVR</a>
                        <a href="../movr-viewer/index.html">MOVR Viewer</a>
                    </div>
                </div>
            </div>
        </nav>

        <main class="docs-content">
            <div class="content-header">
                <h1>Developer Documentation</h1>
                <span class="badge badge-info">Technical Guide</span>
            </div>

            <div class="alert alert-info">
                <h3>Welcome Developers</h3>
                <p>OpenMOVR maintains two public repositories. Select a tab below to view documentation for each project.</p>
            </div>

            <!-- Tab Navigation -->
            <div class="tabs">
                <div class="tab-nav">
                    <button class="tab-btn active" data-tab="overview">Overview</button>
                    <button class="tab-btn" data-tab="website">OpenMOVR.github.io</button>
                    <button class="tab-btn" data-tab="analytics">movr-datahub-analytics</button>
                    <button class="tab-btn" data-tab="viewer">MOVR Viewer</button>
                </div>

                <!-- Overview Tab -->
                <div id="overview" class="tab-content active">
                    <h2>OpenMOVR Projects</h2>

                    <div class="grid-3">
                        <div class="card">
                            <h3>OpenMOVR.github.io</h3>
                            <p>The main website repository - documentation, GSoC program, pilot enrollment, and MOVR Viewer tools.</p>
                            <ul>
                                <li><strong>Tech:</strong> HTML, CSS, JavaScript</li>
                                <li><strong>Hosting:</strong> GitHub Pages</li>
                                <li><strong>Focus:</strong> Public information, community engagement</li>
                            </ul>
                            <p><a href="https://github.com/OpenMOVR/OpenMOVR.github.io" target="_blank">View Repository</a></p>
                        </div>

                        <div class="card">
                            <h3>movr-datahub-analytics</h3>
                            <p>Python package for analyzing MOVR DataHub (2019-2025) registry data - 3,570 participants, 11,501 encounters.</p>
                            <ul>
                                <li><strong>Tech:</strong> Python, pandas, PyArrow</li>
                                <li><strong>Status:</strong> GSoC 2026 Priority Project</li>
                                <li><strong>Focus:</strong> Data analysis, research tools</li>
                            </ul>
                            <p><a href="https://github.com/OpenMOVR/movr-datahub-analytics" target="_blank">View Repository</a> | <a href="movr-datahub-analytics.html">Full Documentation</a></p>
                        </div>

                        <div class="card">
                            <h3>MOVR Viewer</h3>
                            <p>Web-based tools for exploring MOVR Data Dictionary fields and vendor mappings for DMD and SMA research.</p>
                            <ul>
                                <li><strong>Tech:</strong> HTML, CSS, JavaScript</li>
                                <li><strong>Status:</strong> Alpha</li>
                                <li><strong>Focus:</strong> Data exploration, field reference</li>
                            </ul>
                            <p><a href="../movr-viewer/index.html">Open MOVR Viewer</a></p>
                        </div>
                    </div>

                    <h2>Getting Started</h2>
                    <div class="card">
                        <ol>
                            <li><strong>Choose your project</strong> - Website (HTML/CSS/JS) or Analytics (Python)</li>
                            <li><strong>Fork the repository</strong> on GitHub</li>
                            <li><strong>Read the CONTRIBUTING.md</strong> in each repo</li>
                            <li><strong>Set up your environment</strong> (see tabs above)</li>
                            <li><strong>Create a feature branch</strong> and submit a PR</li>
                        </ol>
                    </div>

                    <h2>Code Standards</h2>
                    <div class="grid-2">
                        <div class="card">
                            <h4>Website (HTML/CSS/JS)</h4>
                            <ul>
                                <li>Semantic HTML5 elements</li>
                                <li>CSS variables for consistency</li>
                                <li>Vanilla JavaScript (no frameworks)</li>
                                <li>Mobile-first responsive design</li>
                                <li>2-space indentation</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4>Analytics (Python)</h4>
                            <ul>
                                <li>Type hints required</li>
                                <li>Black formatter</li>
                                <li>MyPy type checking</li>
                                <li>Pytest for testing</li>
                                <li>Docstrings for public APIs</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Website Tab -->
                <div id="website" class="tab-content">
                    <h2>OpenMOVR.github.io</h2>
                    <p><a href="https://github.com/OpenMOVR/OpenMOVR.github.io" target="_blank">github.com/OpenMOVR/OpenMOVR.github.io</a></p>

                    <h3>Quick Start</h3>
                    <div class="card">
                        <pre>git clone git@github.com:YOUR-USERNAME/OpenMOVR.github.io.git
cd OpenMOVR.github.io

# Run locally
./launch.sh
# Or: python3 -m http.server 8000
# Visit: http://localhost:8000

# Create feature branch
git checkout -b feature/your-feature-name</pre>
                    </div>

                    <h3>Repository Structure</h3>
                    <div class="card">
                        <pre>OpenMOVR.github.io/
├── index.html              # Homepage
├── gsoc.html               # Google Summer of Code program
├── docs/                   # Documentation system
│   ├── index.html          # MOVR updates
│   ├── css/docs.css        # Docs styles
│   └── *.html              # Other doc pages
├── pilot/                  # MOVR 2.0 Pilot enrollment
├── movr-viewer/            # Research tools
├── css/main.css            # Global styles
├── js/
│   ├── config.js           # Site configuration
│   ├── main.js             # Main functionality
│   └── header-loader.js    # Header component
├── components/header.html  # Shared header
├── assets/                 # Images, logos
├── BRANCH_STRATEGY.md
├── CONTRIBUTING.md
└── README.md</pre>
                    </div>

                    <h3>Branch Strategy</h3>
                    <div class="card">
                        <p><strong>main</strong> - Production website (homepage, docs, GSoC, pilot)</p>
                        <p><strong>viewer-apps</strong> - MOVR Viewer applications (research tools)</p>

                        <h4>Website Changes</h4>
                        <pre>git checkout main
git pull origin main
git checkout -b feature/your-feature
# Make changes, commit
git push origin feature/your-feature
# Open PR to main</pre>

                        <h4>MOVR Viewer Changes</h4>
                        <pre>git checkout viewer-apps
git pull origin viewer-apps
git checkout -b feature/viewer-enhancement
# Make changes, commit
git push origin feature/viewer-enhancement
# Open PR to viewer-apps</pre>
                    </div>

                    <h3>Common Tasks</h3>
                    <div class="card">
                        <h4>Adding a New Page</h4>
                        <ol>
                            <li>Create HTML file in appropriate directory</li>
                            <li>Include header: <code>&lt;div id="header-placeholder"&gt;&lt;/div&gt;</code></li>
                            <li>Add <code>&lt;script src="js/header-loader.js"&gt;&lt;/script&gt;</code></li>
                            <li>Update navigation in <code>js/config.js</code> if needed</li>
                        </ol>

                        <h4>Updating Statistics</h4>
                        <p>Edit <code>js/config.js</code> - the <code>legacy</code> object:</p>
                        <pre>legacy: {
    participantsTrusted: 5895,
    encountersLogged: 20152,
    sitesCollaborating: 63,
    yearsLearning: 12
}</pre>
                    </div>

                    <h3>Testing Checklist</h3>
                    <div class="card">
                        <ul>
                            <li>Test locally (<code>./launch.sh</code>)</li>
                            <li>Test on mobile (browser dev tools)</li>
                            <li>Check all links work</li>
                            <li>Verify no console errors</li>
                            <li>Update documentation if needed</li>
                        </ul>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div id="analytics" class="tab-content">
                    <h2>movr-datahub-analytics</h2>
                    <p><a href="https://github.com/OpenMOVR/movr-datahub-analytics" target="_blank">github.com/OpenMOVR/movr-datahub-analytics</a> | <a href="movr-datahub-analytics.html">Full Documentation</a></p>

                    <div class="alert alert-primary">
                        <h4>GSoC 2026 Priority Project</h4>
                        <p>Python package for analyzing MOVR DataHub (2019-2025) registry data. Ideal for students interested in healthcare data analytics.</p>
                    </div>

                    <h3>Quick Start</h3>
                    <div class="card">
                        <pre># Clone the repository
git clone https://github.com/OpenMOVR/movr-datahub-analytics.git
cd movr-datahub-analytics

# Create virtual environment
python3 -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# Install with all dependencies
pip install -e ".[dev,viz,notebooks]"

# Setup configuration
movr setup

# Verify installation
movr --help</pre>
                    </div>

                    <h3>Key Features</h3>
                    <div class="grid-2">
                        <div class="card">
                            <h4>Data Pipeline</h4>
                            <ul>
                                <li>Excel to Parquet conversion</li>
                                <li>YAML-configurable wrangling rules</li>
                                <li>Audit logging</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h4>Analysis Tools</h4>
                            <ul>
                                <li>Cohort management</li>
                                <li>Descriptive analytics</li>
                                <li>Data dictionary search</li>
                            </ul>
                        </div>
                    </div>

                    <h3>CLI Commands</h3>
                    <div class="card">
                        <pre># Setup configuration
movr setup

# Convert Excel to Parquet
movr convert

# Validate data quality
movr validate

# View statistics
movr summary --registry datahub --metric all

# Search data dictionary
movr dictionary search "age"
movr dictionary search "medication" --diseases "DMD,SMA"</pre>
                    </div>

                    <h3>Development</h3>
                    <div class="card">
                        <pre># Run tests
pytest

# Format code
black src/ tests/

# Type checking
mypy src/

# Pre-commit hooks
pre-commit install
pre-commit run --all-files</pre>
                    </div>

                    <p><strong>For complete documentation</strong> including architecture, API reference, and contribution guidelines, see the <a href="movr-datahub-analytics.html">DataHub Analytics Documentation</a>.</p>
                </div>

                <!-- MOVR Viewer Tab -->
                <div id="viewer" class="tab-content">
                    <h2>MOVR Viewer</h2>
                    <p><a href="../movr-viewer/index.html">Open MOVR Viewer</a></p>

                    <div class="alert alert-info">
                        <p><strong>Status:</strong> Alpha - Tools for exploring MOVR Data Dictionary fields and vendor mappings.</p>
                    </div>

                    <h3>Available Tools</h3>
                    <div class="grid-2">
                        <div class="card">
                            <h4>Dictionary Viewer</h4>
                            <p>Browse and search MOVR Data Dictionary fields. Filter by disease (DMD, SMA) and view field details including data types, descriptions, and valid values.</p>
                            <ul>
                                <li><strong>512</strong> DMD fields</li>
                                <li><strong>412</strong> SMA fields</li>
                            </ul>
                            <p><a href="../movr-viewer/data_dictionary_viewer.html">Open Dictionary Viewer</a></p>
                        </div>
                        <div class="card">
                            <h4>Vendor Mapping</h4>
                            <p>Review vendor mapping coverage for MOVR variables. See field mapping status and coverage percentages across different data sources.</p>
                            <p><a href="../movr-viewer/vendor_mapping_viewer.html">Open Vendor Mapping</a></p>
                        </div>
                    </div>

                    <h3>Upcoming Features</h3>
                    <div class="card">
                        <p>The following tools are planned for future development:</p>
                        <ul>
                            <li><strong>DMD Data Viewer:</strong> De-identified DMD registry data exploration</li>
                            <li><strong>SMA Data Viewer:</strong> De-identified SMA registry data exploration</li>
                        </ul>
                        <p>These are ideal GSoC project opportunities. Contributors need experience with web applications and data privacy principles.</p>
                    </div>

                    <h3>Contributing</h3>
                    <div class="card">
                        <p>MOVR Viewer is part of the OpenMOVR.github.io repository. To contribute:</p>
                        <pre>git clone git@github.com:YOUR-USERNAME/OpenMOVR.github.io.git
cd OpenMOVR.github.io

# Switch to viewer-apps branch
git checkout viewer-apps
git pull origin viewer-apps

# Create feature branch
git checkout -b feature/viewer-enhancement

# Make changes in movr-viewer/ directory
# Submit PR to viewer-apps branch</pre>
                    </div>
                </div>
            </div>

            <div class="alert alert-info">
                <h3>Questions?</h3>
                <p>Technical: <a href="mailto:andre.paredes@ymail.com">andre.paredes@ymail.com</a> | MDA: <a href="mailto:mdamovr@mdausa.org">mdamovr@mdausa.org</a></p>
            </div>
        </main>
    </div>

    <script>
        // Tab functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove active from all
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                // Add active to clicked
                btn.classList.add('active');
                document.getElementById(btn.dataset.tab).classList.add('active');
            });
        });

        // Handle URL hash for direct linking
        if (window.location.hash) {
            const tab = window.location.hash.substring(1);
            const btn = document.querySelector(`[data-tab="${tab}"]`);
            if (btn) btn.click();
        }
    </script>
</body>
</html>
